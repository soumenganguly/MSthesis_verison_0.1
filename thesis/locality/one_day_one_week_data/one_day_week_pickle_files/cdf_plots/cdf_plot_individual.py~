from __future__ import division
import pickle
import sys
import matplotlib.pyplot as plt
import numpy as np

a=open(sys.argv[1],'rb')
b = open(sys.argv[2],'rb')
c = open(sys.argv[3],'rb')

p1=pickle.load(a)
p2 = pickle.load(b)
p3 = pickle.load(c)

x_i = []
y_i = []
x_j = []
y_j = []
x_k = []
y_k = []

for words in p1:
    x_i.append(p1[words][0])
    y_i.append(p1[words][1])
for word in p2:
    x_j.append(p2[word][0])
    y_j.append(p2[word][1])
for word in p3:
    x_k.append(p3[word][0])
    y_k.append(p3[word][1])


x_y_i = [] # Different location
x_y_j = [] # Different samples from same location 1
x_y_k = [] # Different samples from same location 2

for score in range(len(x_j)):
    if x_j[score] == 0 and y_j[score] != 0:
        x_j[score] = 1
    elif y_j[score] == 0 and x_j[score]!= 0:
        y_j[score] = 1
    x_y_j.append(x_j[score]/y_j[score])

for score in range(len(x_k)):
    if x_k[score] == 0 and y_k[score] != 0:
        x_k[score] = 1
    elif y_k[score] == 0 and x_k[score] != 0:
        y_k[score] = 1
    x_y_k.append(x_k[score]/y_k[score])

for score in range(len(x_i)):
    if x_i[score] == 0 and y_i[score] != 0:
        x_i[score] = 1
    elif y_i[score] == 0 and x_i[score]!= 0:
        y_i[score] = 1
    x_y_i.append(x_i[score]/y_i[score])

sorted_data_i = np.sort(x_y_i)
sorted_data_j = np.sort(x_y_j)
sorted_data_k = np.sort(x_y_k)

yvals_i=np.arange(len(sorted_data_i))/float(len(sorted_data_i)-1)
yvals_j = np.arange(len(sorted_data_j))/float(len(sorted_data_j)-1)
yvals_k = np.arange(len(sorted_data_k))/float(len(sorted_data_k)-1)

plt.plot(sorted_data_i,yvals_i, label='PUL vs. UMB')
plt.plot(sorted_data_j,yvals_j, label='PUL vs. PUL')
plt.plot(sorted_data_k,yvals_k, label='UMB vs. UMB')

plt.legend()

plt.xlabel('Popularity of keywords')
plt.ylabel('CDF')
plt.xscale('log')

plt.show()
